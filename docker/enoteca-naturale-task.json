{
	"executionRoleArn": "arn:aws:iam::934187374409:role/ecsTaskExecutionRole",
	"containerDefinitions": [{
			"logConfiguration": {
				"logDriver": "awslogs",
				"options": {
					"awslogs-group": "/ecs/enoteca-naturale-task",
					"awslogs-region": "eu-central-1",
					"awslogs-stream-prefix": "ecs"
				}
			},
			"portMappings": [{
				"hostPort": 8080,
				"protocol": "tcp",
				"containerPort": 8080
			}],
			"memory": 256,
			"memoryReservation": 128,
			"image": "934187374409.dkr.ecr.eu-central-1.amazonaws.com/enoteca-naturale:web-production",
			"dependsOn": [{
				"containerName": "enoteca-naturale-app",
				"condition": "HEALTHY"
			}],
			"essential": true,
			"name": "enoteca-naturale-web"
		},
		{
			"logConfiguration": {
				"logDriver": "awslogs",
				"options": {
					"awslogs-group": "/ecs/enoteca-naturale-task",
					"awslogs-region": "eu-central-1",
					"awslogs-stream-prefix": "ecs"
				}
			},
			"portMappings": [{
				"hostPort": 3000,
				"protocol": "tcp",
				"containerPort": 3000
			}],
			"environment": [{
					"name": "NODE_ENV",
					"value": "production"
				},
				{
					"name": "RAILS_ENV",
					"value": "production"
				},
				{
					"name": "RAILS_LOG_TO_STDOUT",
					"value": "true"
				},
				{
					"name": "RAILS_SERVE_STATIC_FILES",
					"value": "true"
				}
			],
			"secrets": [{
				"valueFrom": "Enoteca-Naturale-App-Rails-Master-Key",
				"name": "RAILS_MASTER_KEY"
			}],
			"memory": 768,
			"memoryReservation": 256,
			"image": "934187374409.dkr.ecr.eu-central-1.amazonaws.com/enoteca-naturale:app-production",
			"healthCheck": {
				"retries": 10,
				"command": [
					"CMD-SHELL",
					"nc -z local host 3000"
				],
				"timeout": 5,
				"interval": 5,
				"startPeriod": 30
			},
			"name": "enoteca-naturale-app"
		}
	],
	"placementConstraints": [],
	"memory": "1024",
	"taskRoleArn": "arn:aws:iam::934187374409:role/ecsTaskExecutionRole",
	"compatibilities": [
		"EC2",
		"FARGATE"
	],
	"taskDefinitionArn": "arn:aws:ecs:eu-central-1:934187374409:task-definition/enoteca-naturale-task:4",
	"family": "enoteca-naturale-task",
	"networkMode": "awsvpc",
	"cpu": "256",
  "tags":[
        {
            "key":"client",
            "value":"enoteca-naturale"
        }
    ]
}
